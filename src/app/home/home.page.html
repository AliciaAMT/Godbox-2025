<app-menu-header></app-menu-header>
<ion-content #ionContent>
  <!-- Hidden anchor for skip-to-top functionality -->
  <div id="top" tabindex="-1" style="position: absolute; top: 0; left: 0; width: 1px; height: 1px; overflow: hidden;"></div>

  <ion-grid>
    <ion-row>
      <ion-col sizeXl="4" offsetXl="4" sizeLg="4" offsetLg="4" sizeMd="6" offsetMd="3" sizeSm="8" offsetSm="2" sizeXs="10" offsetXs="1" class="ion-text-center">
        <h2>Kahal</h2>
        <img src="../../../assets/images/light.webp" alt="" />
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col sizeXl="8" offsetXl="2" sizeLg="8" offsetLg="2" sizeMd="10" offsetMd="1" class="ion-text-center ion-padding" style="margin-bottom: 30px;">
        <span class="verse">
          <div class="ion-text-left">
            <i>
              Thomas saith unto him, Lord, we know not whither thou goest; and how can we know the way? <br />
              Jesus saith unto him, I am the way, the truth, and the life: no man cometh unto the Father, but by me.
            </i>
          </div>
          <div class="ion-text-right">-John 14:5-6</div>
        </span>

        <!-- PWA Install Button -->
        <div *ngIf="canInstall && !isInstalled" class="ion-text-center" style="margin-top: 20px;">
          <ion-card style="background: rgba(56, 252, 255, 0.1); border: 1px solid var(--ion-color-primary);">
            <ion-card-content>
              <h3 style="color: var(--ion-color-primary); margin-bottom: 10px;">
                <ion-icon name="download" style="margin-right: 8px;"></ion-icon>
                Install Kahal App
              </h3>
              <p style="margin-bottom: 15px; color: #ffffff;">
                Get the full app experience with offline access and faster loading.
              </p>
              <ion-button (click)="installApp()" fill="outline" color="primary">
                <ion-icon name="download" slot="start"></ion-icon>
                Install Now
              </ion-button>
            </ion-card-content>
          </ion-card>
        </div>

        <!-- Update Available Notification -->
        <div *ngIf="updateAvailable" class="ion-text-center" style="margin-top: 20px;">
          <ion-card style="background: rgba(255, 193, 7, 0.1); border: 1px solid #ffc107;">
            <ion-card-content>
              <h3 style="color: #ffc107; margin-bottom: 10px;">
                <ion-icon name="refresh" style="margin-right: 8px;"></ion-icon>
                Update Available
              </h3>
              <p style="margin-bottom: 15px; color: #ffffff;">
                A new version of Kahal is available. Update now for the latest features and improvements.
              </p>
              <ion-button (click)="updateApp()" fill="outline" style="--color: #ffc107; --border-color: #ffc107;">
                <ion-icon name="refresh" slot="start"></ion-icon>
                Update Now
              </ion-button>
            </ion-card-content>
          </ion-card>
        </div>

      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col class="ion-text-center" sizeXl="4" offsetXl="0" sizeLg="4" offsetLg="0" sizeMd="6" offsetMd="0" sizeSm="8" offsetSm="2" sizeXs="10" offsetXs="1">
        <ion-card routerLink="/daily-readings" routerDirection="forward" style="height: 100%;">
          <ion-card-header>
            <ion-img src="../../../assets/images/bible.webp"></ion-img>
            <ion-card-title>
              <h2>Daily Bible Readings</h2>
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p>Join us in a united schedule to read the Bible in a year!</p>
          </ion-card-content>
        </ion-card>
      </ion-col>
      <ion-col class="ion-text-center" sizeXl="4" offsetXl="0" sizeLg="4" offsetLg="0" sizeMd="6" offsetMd="0" sizeSm="8" offsetSm="2" sizeXs="10" offsetXs="1">
        <ion-card routerLink="/growth-blog" routerDirection="forward" style="height: 100%;">
          <ion-card-header>
            <ion-img src="../../../assets/images/istockphoto-1085122436-612x612(1).webp"></ion-img>
            <ion-card-title>
              <h2>Growth Blog</h2>
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p>Articles concerning personal spiritual insights, stories, and testimonies.</p>
          </ion-card-content>
        </ion-card>
      </ion-col>


      <ion-col *ngFor="let post of posts" class="ion-text-center" sizeXl="4" offsetXl="0" sizeLg="4" offsetLg="0" sizeMd="6" offsetMd="0" sizeSm="8" offsetSm="2" sizeXs="10" offsetXs="1">
        <div *ngIf="post.privacy !== 'private'" style="height: 100%;">
          <ion-card style="height: 100%;" [routerLink]="['/view-collection', post.series]" routerDirection="forward">
            <ion-card-header>
              <ion-img [src]="post.imageUrl"></ion-img>
              <ion-card-title>
                <h2>{{ post.title }}</h2>
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <p>{{post.description}}</p>
            </ion-card-content>
          </ion-card>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
  <app-footer-landing></app-footer-landing>
</ion-content>

<app-skip-to-top [ionContentRef]="ionContent"></app-skip-to-top>
